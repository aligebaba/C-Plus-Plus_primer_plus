# 笔记 5 -- 函数    （第七章）

* 没有返回值的函数被称为void函数；有返回值的函数将生成一个值，并将它返回给调用函数。
    * C++规定返回值不能是数组，但可以是其他任何类型————整数、浮点数、指针、结构、对象。
        * 可以将数组作为结构或对象的组成部分来返回。
    * **函数在执行遇到的第一个返回语句后结束**。
* 函数通过**将返回值复制到指定的CPU寄存器或内存单元中**，随后调用函数将查看该内存单元。

* C++的编程风格是将main()函数放在最前面，因为它通常提供了程序的整体结构。

* 函数原型描述了函数到编译器的接口，**它将函数返回值的类型以及参数的类型和数量告诉编译器**。
    * 函数原型不要求提供变量名，有类型列表就足够了。
    * C++中，不指定类型列表时应使用省略号。（通常仅当与接受可变参数的C函数交互时才需要这样做）
    * 仅当有意义时，原型化才会导致类型转换。

***
* C++通常按值传递参数，这意味着将数值传递给函数，然后函数将数值赋给一个新的变量。
    * 传递给函数的值被称为**实参**；用于接收传递值的变量被称为**形参**。
    * C++标准使用参数（**argument**）来表示实参，使用参量（**parameter**）来表示形参。

* 在C++中，**当（且仅当）用于函数头或函数原型值时，**`int *arr`和`int arr[]`**的含义才相同**，他们都意味着arr是一个指针。
    * **当指针指向数组的第一个元素时**，使用数组表示法；
    * **当指针指向一个独立的值时**，使用指针表示法。

* **传递常规变量时，函数将使用该变量的拷贝**；**传递数组时，函数将使用原来的数组（传递数组的地址，也即指针）**。
    * 将数组地址作为参数可以节省复制整个数组所需的时间和内存。
    * 指针本身并没有指出数组的长度，因此**必须显示传递数组长度**。
        * 另一种方法是指定元素区间，通过传递两个指针来完成：一个指针标识数组的开头，另一个指针标识数组的结尾（指向最后一个元素后面的指针）
* **为了防止函数无意中修改数组的内容，可在声明形参时使用关键词**`const`，如：`const int *arr`或`const int arr[]`。
    * 这并不意味着原始数组必须是常量，而只是意味着不能在函数中修改数组的元素。

* 编写特定的函数来处理特定的数据操作是有好处的（可靠性更高，修改和调试更方便）。构思程序时将存储属性与操作结合起来，便是朝OOP思想迈进了重要的一步。

***
* 将关键词`const`用于指针，有两种不同的方式：
    * 第一种方法是让指针指向一个常量。

        int age = 39;
        const int * pt = &age;

    * 上述声明指出，`pt`指向一个`const int`，因此不能使用`pt`来修改这个值。但并不意味着`pt`指向的值是一个常量，而只是意味着对`pt`而言这个值是常量。（可以直接通过`age`变量来修改`age`的值，但不能使用`pt`指针来修改）
    * 引申：可将`const`变量的地址赋给指向`const`的指针，但不能赋给常规指针！
    
    * 第二种方法是将指针本身声明为常量。

        int age = 39;
        int const * pt = &age;
        
    * 不允许修改指针`pt`的值，但允许通过指针`pt`修改`age`的值。

* 将指针作为参数来传递时，可以使用指向`const`的指针来保护数据。